---
title: "人脸情绪识别制作-环境不会配，亲人泪两行"
published: 2025-12-28
description: "教你配置人脸情绪识别实训作业的环境配置和基础配置"
category: "学习文章"
tags: ["环境配置", "人脸情绪识别", "Python", "PaddlePaddle", "OpenCV"]
---

# 人脸情绪识别项目完整实现方案

本文章将教你配置实习作业-xxx老师的人脸情绪识别实训作业的环境配置和基础配置。

使用的工具为VS Code，如果你用的是PyCharm，应该也差不多，有问题自行AI，有不懂的名词也自行AI。

> [!NOTE]
> Python版本是3.11版本的，如果不是，也没有怎么办，用uv命令（没有pip下载一个，pip install -u uv）。

## 环境准备

```bash
uv python install 3.11   # uv下载3.11版本python
uv venv --python 3.11 .venv  # 配置3.11版本环境
```

## 激活Python环境

```bash
.\\.venv\\Scripts\\Activate.ps1 # 进入Python环境
```

## 验证Python版本

```bash
python -V    # 看版本
```

是3.11.14就成功了

## 安装基础依赖

```bash
uv pip install -U pip setuptools wheel  # 安装依赖
```

## 安装PaddlePaddle

```bash
uv pip install paddlepaddle-gpu==3.2.0 --index-url https://www.paddlepaddle.org.cn/packages/stable/cu126/   # 安装飞浆3.2.0有显卡为何不用
```

```bash
uv pip install paddlepaddle==3.2.0 --index-url https://www.paddlepaddle.org.cn/packages/stable/cpu/      # 或者CPU版本
```

![Pasted image 20251228155607](/images/posts/cloud-computing/人脸情绪识别制作/20251228155607.webp)

不是哥们，文档里面显示的是2.5.2版本啊，你怎么教我下载3.2.0版本啊

> [!NOTE]
> 我尝试过，那报错看到直接run了，所以本教程是3.2.0版本的，如果不想下载也可以就及时止损吧


下面的教程也是GPU版本的

## 安装其他依赖

```bash
uv pip install opencv-python==4.8.1.78 numpy==1.24.3 flask==2.3.3 pillow==10.0.1 scikit-learn==1.3.0 matplotlib==3.7.2 -i https://pypi.tuna.tsinghua.edu.cn/simple   # 然后安装文档要求的环境
```

## 验证GPU安装

```bash
python -c "import paddle; paddle.set_device('gpu'); x=paddle.randn([1024,1024]); y=paddle.matmul(x,x); print('ok', y.place)"   # 验证是否可以安装成功，可以正确使用GPU版本
```

什么，你看不懂结果，复制上面的命令问AI就行了

这环境就配置好了，之后照着PDF来，

## 数据采集

```bash
python data_collector.py  # 采集图片
```

运行这个会调用摄像头，然后会自动创建emotion_dataset文件夹和里面的情绪文件夹

确保目录文件都是英文


## 目录结构

![Pasted image 20251228150325](/images/posts/cloud-computing/人脸情绪识别制作/20251228150325.webp)

```bash
python -c "import data_collector as dc; dc.preprocess_data()"
```

运行该命令生成.pkl训练文件


## 模型训练

```bash
python model_train.py 开始训练
```


```bash
uv pip install -U "nvidia-cudnn-cu12>=9.9,<10" -i https://pypi.tuna.tsinghua.edu.cn/simple
```

如果上面开始训练报错，可能要更新cudnn
运行该文件更新cudnn


## 开始训练

```bash
python model_train.py 开始训练如图
```

![Pasted image 20251228160331](/images/posts/cloud-computing/人脸情绪识别制作/Pasted image 20251228160331.webp)
## 启动前端服务

```bash
python web_server.py 启动前端服务，前端要自己做
```

